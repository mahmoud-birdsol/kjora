import{M as C,r as i,Q as p,j as g,h as $,d as k,b as a,w as s,u as f,F as B,o as j,a as o,Z as M,t as n,e as T,s as _,f as m}from"./app.8ff0f107.js";import{r as V,_ as v}from"./DateTranslation.68228c64.js";import{d as N}from"./dayjs.min.61a7718e.js";import{_ as z}from"./Avatar.vue_vue_type_style_index_0_lang.13aa623b.js";import"./index.1938c188.js";/* empty css                                                  *//* empty css                                                                           */import{b as P,_ as A,a as D}from"./PostCaptionForm.e877813e.js";import{_ as E}from"./PublicLayout.0ca1a09e.js";import"./vue-splide.esm.8f184fc8.js";import"./PrimaryButton.11a51cad.js";import"./index.f405b57e.js";import"./ResponsiveNavLink.118cd62e.js";import"./SecondaryButton.5221202e.js";import"./GuestNavbar.9e8bb035.js";import"./XMarkIcon.4621726c.js";const F=["content"],H=["content"],I={class:"flex justify-between w-full"},G={class:"flex flex-col"},K={class:"flex flex-row gap-2"},Q={class:"m-0 text-lg font-bold leading-none capitalize"};const R={class:"flex justify-between w-full gap-2 text-[10px] text-stone-400"},S={class:"flex flex-row gap-1"},Y={class:"grid place-items-center min-h-[200px] font-bold"},ie={__name:"PostView",props:{user:null,post:null},setup(t){var h;C(()=>{N.extend(V)});const r=t,u=i(null),b=i(null),c=i([]),d=p().props.auth.user;d==null||d.id,(h=r==null?void 0:r.user)==null||h.id,p().url.includes("public/posts"),i(!1),g(()=>{var e;return c.value?(e=c.value.filter(l=>!l.parent_id))==null?void 0:e.length:0}),g(()=>{var e;return((e=u.value)==null?void 0:e.getBoundingClientRect().top)+window.scrollY});const x=p().props.ziggy.url+"/public/posts/"+r.post.id;$(()=>{y()});function y(){axios.get(route("public.post.comments"),{params:{commentable_id:r.post.id,commentable_type:"App\\Models\\Post"}}).then(e=>{c.value=e.data.data,w()}).catch(e=>console.error(e))}function w(){setTimeout(()=>{u.value.scrollTo({top:u.value.scrollHeight,left:0,behavior:"smooth"})},100)}return(e,l)=>(j(),k(B,null,[a(f(M),{title:"Home"},{default:s(()=>[o("meta",{property:"og:url",content:x}),l[0]||(l[0]=o("meta",{property:"og:title",content:"Kjora"},null,-1)),o("meta",{property:"og:description",content:`this is profile of ${t.user.name} on kjora website `},null,8,F),o("meta",{property:"og:image",content:t.user.avatar_url},null,8,H)]),_:1}),a(E,{title:"Gallery"},{header:s(()=>[o("p",null,n(e.$t("post")),1)]),default:s(()=>[a(P,null,{media:s(()=>[a(A,{postMedia:t.post.media,user:t.user},null,8,["postMedia","user"])]),userImage:s(()=>[a(z,{id:t.user.id,username:t.user.name,"image-url":t.user.avatar_url,size:"md",border:!0,"border-color":"primary"},null,8,["id","username","image-url"])]),userInfo:s(()=>[o("div",I,[o("div",G,[o("div",K,[o("h3",Q,n(t.user.name),1),T("",!0)]),a(f(_),{href:e.route("public.player",t.user.id),class:"text-xs text-stone-400"},{default:s(()=>[m("@"+n(t.user.username),1)]),_:1},8,["href"])])])]),"postDate&Time":s(()=>[o("div",R,[o("div",S,[a(v,{start:t.post.created_at,type:"range"},null,8,["start"]),l[1]||(l[1]=o("span",null,"|",-1)),a(v,{start:t.post.created_at,format:"hh:mm A"},null,8,["start"])])])]),postCaption:s(()=>[a(D,{ref_key:"postCaptionComp",ref:b,post:t.post},null,8,["post"])]),commentsCount:s(()=>[o("div",Y,[o("div",null,[m(n(e.$t("please"))+" ",1),a(f(_),{href:e.route("register"),class:"text-blue-700"},{default:s(()=>[m(n(e.$t("sign up")),1)]),_:1},8,["href"]),m(" "+n(e.$t("to kjora to view more photos and videos")),1)])])]),_:1})]),_:1})],64))}};export{ie as default};
