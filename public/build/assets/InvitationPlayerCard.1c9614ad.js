import{o as i,d as o,a as n,M as P,j as F,Q as Z,b as c,w as v,f as m,t as r,u as e,s as w,n as y,F as M,g as q,c as g,e as l,J as E,T as _}from"./app.8ff0f107.js";import{_ as H}from"./Avatar.vue_vue_type_style_index_0_lang.13aa623b.js";import{d as p}from"./dayjs.min.61a7718e.js";import{f as K,Z as R,F as W}from"./index.1938c188.js";import{r as G,_ as z,a as S}from"./DateTranslation.68228c64.js";import{r as J}from"./StarIcon.5dbdfceb.js";import{r as Q}from"./CheckIcon.7c9aeea7.js";function U(s,t){return i(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[n("path",{d:"M10.5 1.875a1.125 1.125 0 0 1 2.25 0v8.219c.517.162 1.02.382 1.5.659V3.375a1.125 1.125 0 0 1 2.25 0v10.937a4.505 4.505 0 0 0-3.25 2.373 8.963 8.963 0 0 1 4-.935A.75.75 0 0 0 18 15v-2.266a3.368 3.368 0 0 1 .988-2.37 1.125 1.125 0 0 1 1.591 1.59 1.118 1.118 0 0 0-.329.79v3.006h-.005a6 6 0 0 1-1.752 4.007l-1.736 1.736a6 6 0 0 1-4.242 1.757H10.5a7.5 7.5 0 0 1-7.5-7.5V6.375a1.125 1.125 0 0 1 2.25 0v5.519c.46-.452.965-.832 1.5-1.141V3.375a1.125 1.125 0 0 1 2.25 0v6.526c.495-.1.997-.151 1.5-.151V1.875Z"})])}function X(s,t){return i(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[n("path",{"fill-rule":"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z","clip-rule":"evenodd"})])}const ee={class:"flex flex-col items-center justify-center gap-3 p-4"},te={class:"flex flex-col items-center"},ae={class:"flex flex-col items-center text-sm text-white"},ie={class:"flex items-center justify-center space-x-2 text-sm"},ne={class:"flex items-center gap-1"},se={class:"flex flex-col items-center"},oe={key:0,class:"flex items-center gap-1 text-white capitalize"},re={key:1,class:"flex items-center gap-1 text-white capitalize"},le={class:"text-center text-[10px] text-stone-300/70"},ce={key:0},de={key:1},ue={key:2},fe={key:3},ve={key:2,class:"text-center text-[10px] text-stone-300/70"},me={key:0},pe={key:1},he={key:2},ye=["href"],ge={class:"text-center rounded-md bg-white/90"},xe={class:"p-2 text-xs font-bold text-black"},be={class:"self-stretch text-sm font-bold"},we={key:0,class:"flex justify-center gap-6"},_e={key:1},ke={key:2,class:"flex justify-center"},$e={disabled:!0,class:"flex items-center justify-center px-2 py-2 rounded-full shadow-sm bg-stone-200 enabled:hover:bg-opacity-90 enabled:active:scale-95"},De={__name:"InvitationPlayerCard",props:{player:{required:!0,type:Object},size:{required:!1,type:String,default:"sm"},invitation:{required:!0,type:Object}},setup(s){var j,B;P(()=>{p.extend(G)});const t=s,D=F(()=>({sm:"/images/player_bg_sm.png",lg:"/images/player_bg_lg.png"})[t.size]),V="AIzaSyC9lN0B2EalTvLS_dNDWE1BmCBKLTDZxsI",Y=Z().props.auth.user;t.player.state_name;const T=t.invitation.state=="Free"?"white":"black",d=t.invitation.inviting_player.id===Y.id,u=t.invitation.state===null&&p((j=t.invitation)==null?void 0:j.date).diff(p(),"hour")>0,x=t.invitation.state==="accepted",k=t.invitation.state==="declined",$=t.invitation.state==="cancelled"||p((B=t.invitation)==null?void 0:B.date).diff(p(),"hour")<=0&&t.invitation.state===null,N=u&&d,C=F(()=>{var a,b,h;if(Boolean((a=t.invitation)==null?void 0:a.reviews.length))return!Boolean((h=(b=t.invitation)==null?void 0:b.reviews[0])==null?void 0:h.reviewed_at)}),A=()=>{_({}).patch(route("invitation.accept",t.invitation.id),{preserveState:!1})},I=()=>{_({}).patch(route("invitation.decline",t.invitation.id),{preserveState:!1})},L=()=>{_({}).patch(route("invitation.cancel",t.invitation.id),{preserveState:!1,onFinish:()=>{}})};let f={lat:parseFloat(t.invitation.stadium.latitude),lng:parseFloat(t.invitation.stadium.longitude)};const O={position:f};return(a,b)=>(i(),o("div",{class:"rounded-xl",style:E(`background: url('${D.value}'); background-size: cover; background-position: center;`)},[n("div",ee,[n("div",te,[c(H,{id:s.player.id,"image-url":s.player.avatar_url,size:"lg",username:s.player.name,border:!0},null,8,["id","image-url","username"]),n("div",ae,[c(e(w),{class:"hover:underline rtl:before:text-transparent rtl:before:content-['a']",href:a.route("player.profile",s.player.id)},{default:v(()=>[m("@"+r(s.player.username),1)]),_:1},8,["href"])]),n("p",ie,[n("span",{class:y(["flex scale-[0.7] items-center gap-x-1",e(T)=="black"?"text-primary":"text-[#FF9900]"])},[n("span",ne,[(i(),o(M,null,q(5,h=>(i(),o(M,null,[s.player.rating>=h?(i(),g(e(X),{key:0,class:y(["w-5 h-5",t.invitation.state=="Free"?"text-gold":"text-primary"])},null,8,["class"])):(i(),g(e(J),{key:1,class:y(["w-5 h-5",t.invitation.state=="Free"?"text-gold":"text-primary"])},null,8,["class"]))],64))),64))]),n("span",{class:y(["ml-2 font-bold text-md",t.invitation.state=="Free"?"text-gold":"text-primary"])},r(s.player.rating),3)],2)])]),n("div",se,[e(u)&&!d?(i(),o("div",oe,[n("span",null,r(a.$t("hi :receiver , :sender",{sender:s.invitation.inviting_player.name,receiver:s.invitation.invited_player.first_name})),1),n("span",null,[c(e(U),{class:"w-4 rotate-[15deg] text-yellow-300"})])])):l("",!0),d?(i(),o("div",re,[n("p",le,[e(u)?(i(),o("span",ce,r(a.$t("pending")),1)):l("",!0),x?(i(),o("span",de,r(a.$t("accepted")),1)):l("",!0),k?(i(),o("span",ue,r(a.$t("declined")),1)):l("",!0),e($)?(i(),o("span",fe,r(a.$t("canceled")),1)):l("",!0),m(" "+r(a.$t("match in"))+" ",1),c(z,{format:"DD MMMM YYYY, hh:mm A",start:s.invitation.date},null,8,["start"])])])):l("",!0),d?l("",!0):(i(),o("p",ve,[s.invitation.state==="declined"?(i(),o("span",me,r(a.$t("declined")),1)):l("",!0),e($)?(i(),o("span",pe,r(a.$t("canceled")),1)):l("",!0),e(u)?(i(),o("span",he,r(a.$t("Wants to invite you for")),1)):l("",!0),m(" "+r(a.$t("match in"))+" ",1),c(z,{format:"DD MMMM YYYY, hh:mm A",start:s.invitation.date},null,8,["start"])]))]),n("a",{href:`https://www.google.com/maps/dir/Current+Location/${e(f).lat},${e(f).lng}`,target:"_blank",class:"w-full overflow-hidden rounded-lg"},[c(e(W),{"api-key":e(V),style:{width:"100%",height:"150px"},center:e(f),zoom:15},{default:v(()=>[c(e(K),{options:O}),c(e(R),{options:{position:e(f),anchorPoint:"TOP_RIGHT"}},{default:v(()=>[n("div",ge,[n("div",xe,r(s.invitation.stadium.name),1)])]),_:1},8,["options"])]),_:1},8,["api-key","center"])],8,ye),n("div",be,[e(u)&&!d?(i(),o("div",we,[n("button",{onClick:I,class:"flex items-center justify-center px-2 py-2 rounded-full shadow-sm bg-stone-100 enabled:hover:bg-opacity-90 enabled:active:scale-95"},[c(e(S),{class:"w-6 text-red-600"})]),n("button",{onClick:A,class:"flex items-center justify-center px-2 py-2 rounded-full shadow-sm bg-stone-100 enabled:hover:bg-opacity-90 enabled:active:scale-95"},[c(e(Q),{class:"w-6 text-green-600"})])])):l("",!0),e(N)?(i(),o("div",_e,[n("button",{onClick:L,class:"flex items-center justify-center w-full px-4 py-2 rounded-full shadow-sm bg-stone-100 enabled:hover:bg-opacity-90 enabled:active:scale-95"},r(a.$t("cancel")),1)])):l("",!0),k?(i(),o("div",ke,[n("button",$e,[c(e(S),{class:"w-6 text-red-600"})])])):l("",!0),x&&!C.value?(i(),g(e(w),{key:3,href:a.route("chats.by.user.show",{user:d?s.invitation.invited_player_id:s.invitation.inviting_player_id,invitation:s.invitation.id}),class:"flex items-center justify-center w-full px-4 py-2 text-black rounded-full shadow-sm bg-stone-100 enabled:hover:bg-opacity-90 enabled:active:scale-95"},{default:v(()=>[m(r(a.$t("chat")),1)]),_:1},8,["href"])):l("",!0),x&&C.value?(i(),g(e(w),{key:4,href:a.route("player.review.show",s.invitation.reviews[0].id),class:"flex items-center justify-center w-full px-4 py-2 rounded-full shadow-sm bg-stone-100 enabled:hover:bg-opacity-90 enabled:active:scale-95"},{default:v(()=>[m(r(a.$t("rate")),1)]),_:1},8,["href"])):l("",!0)])])],4))}};export{De as _};
