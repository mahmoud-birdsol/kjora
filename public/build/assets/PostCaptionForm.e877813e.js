import{b as C,S}from"./vue-splide.esm.8f184fc8.js";import{r as w,o as l,d as n,b as m,w as f,F as k,g as M,c as P,u as c,a as e,e as p,t as u,Q as j,m as a,T as B,q as _,v as x,a5 as E,f as g}from"./app.8ff0f107.js";import{_ as y}from"./PrimaryButton.11a51cad.js";const F={class:"relative"},V={class:"flex justify-center overflow-hidden group h-full"},N=["src"],T=["src"],D={key:0,class:"absolute top-2 right-2 text-stone-200 text-xs p-1"},Y={__name:"PostMedia",props:["postMedia","user"],setup(r){const d=w(1),s={arrows:!1,rewind:!1,pagination:!0,fixedHeight:300,type:"slide",focus:"center",cover:!0,perPage:1,perMove:1,snap:!0,autoplay:!1};return(i,t)=>(l(),n("div",F,[m(c(S),{"onSplide:moved":t[0]||(t[0]=o=>{d.value=o.index+1}),dir:"ltr",class:"",options:s},{default:f(()=>[(l(!0),n(k,null,M(r.postMedia,o=>(l(),P(c(C),{key:o.id,class:""},{default:f(()=>[e("div",V,[o.mime_type.startsWith("image")||o.mime_type.startsWith("webp")?(l(),n("img",{key:0,src:o.original_url,alt:"",class:"object-contain h-full rounded-2xl"},null,8,N)):p("",!0),o.mime_type.startsWith("video")?(l(),n("video",{key:1,controls:"",src:o.original_url,alt:"",class:"object-contain h-full rounded-2xl"},null,8,T)):p("",!0)])]),_:2},1024))),128))]),_:1}),r.postMedia.length>1?(l(),n("div",D,[e("span",null,u(d.value),1),t[1]||(t[1]=e("span",null,"/",-1)),e("span",null,u(r.postMedia.length),1)])):p("",!0)]))}},I={class:"px-4 py-4 sm:p-8 rounded-3xl"},W={class:"grid h-full gap-3 border max-w-[500px] mx-auto rounded-2xl border-stone-400 bg-white"},L={class:"flex flex-col max-w-full gap-6 p-3"},q={class:"grid xs:grid-cols-[min-content_1fr] gap-4"},z={class:"min-w-max"},H={class:"flex flex-col"},Q={class:"mt-4"},U={class:"flex flex-col h-full gap-2 border-t border-stone-300"},A={class:"self-stretch h-full py-3"},G={key:0,class:"flex flex-row items-center self-end w-full p-3 border-t gap-x-3 border-stone-300"},Z={__name:"PostLayout",setup(r){const d=j().url.includes("public/posts");return(s,i)=>(l(),n("div",I,[e("div",W,[e("div",L,[a(s.$slots,"media"),e("div",q,[e("div",z,[a(s.$slots,"userImage")]),e("div",H,[a(s.$slots,"userInfo"),a(s.$slots,"postDate&Time"),e("div",Q,[a(s.$slots,"postCaption")])])])]),e("div",U,[a(s.$slots,"commentsCount"),e("div",A,[a(s.$slots,"postComments")]),c(d)?p("",!0):(l(),n("div",G,[a(s.$slots,"newCommentForm")]))])])]))}},J={class:"flex flex-col justify-end gap-3"},K={class:"flex justify-end gap-2"},ee={__name:"PostCaptionForm",props:["post","isEditingCaption"],setup(r,{expose:d}){const s=r,i=w(!1),t=B({caption:s.post.caption});function o(){t.patch(route("posts.update",s.post),{preserveScroll:!0,preserveState:!0}),i.value=!1}function $(){t.reset(),i.value=!1}return d({isEditingCaption:i}),(v,h)=>(l(),n("div",null,[_(e("p",{class:"text-sm text-stone-500"},u(c(t).caption),513),[[x,!i.value]]),_(e("div",J,[_(e("textarea",{rows:"4",type:"text","onUpdate:modelValue":h[0]||(h[0]=b=>c(t).caption=b),class:"w-full text-sm border-none rounded-lg resize-none text-stone-500 ring-1 focus:ring-primary focus:shadow-none focus:border-none ring-gray-300 hideScrollBar"},null,512),[[E,c(t).caption]]),e("div",K,[m(y,{onClick:$,class:"w-24"},{default:f(()=>[g(u(v.$t("Cancel")),1)]),_:1}),m(y,{onClick:o,class:"w-24"},{default:f(()=>[g(u(v.$t("Save")),1)]),_:1})])],512),[[x,i.value]])]))}};export{Y as _,ee as a,Z as b};
