import{_ as J}from"./Avatar.vue_vue_type_style_index_0_lang.13aa623b.js";import{_ as K}from"./PrimaryButton.11a51cad.js";import{r as O,_ as Q}from"./ReportModal.78ea62a4.js";import{_ as G}from"./Socials.aef126b5.js";import{o as r,d as n,a as t,t as s,n as o,r as $,T as H,b as c,u as a,e as p,F as S,Q as z,j as W,c as w,w as g,s as B,f as b,g as X,J as Y}from"./app.8ff0f107.js";import{a as ee,r as te}from"./MapPinIcon.afa94ea1.js";import{_ as ae}from"./Modal.b3ff11aa.js";import{r as se}from"./StarIcon.1ddb206a.js";import{r as re}from"./StarIcon.5dbdfceb.js";function N(e,d){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M15.28 9.47a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 1 1-1.06-1.06L13.69 10 9.97 6.28a.75.75 0 0 1 1.06-1.06l4.25 4.25ZM6.03 5.22l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L8.69 10 4.97 6.28a.75.75 0 0 1 1.06-1.06Z","clip-rule":"evenodd"})])}function le(e,d){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"m9.653 16.915-.005-.003-.019-.01a20.759 20.759 0 0 1-1.162-.682 22.045 22.045 0 0 1-2.582-1.9C4.045 12.733 2 10.352 2 7.5a4.5 4.5 0 0 1 8-2.828A4.5 4.5 0 0 1 18 7.5c0 2.852-2.044 5.233-3.885 6.82a22.049 22.049 0 0 1-3.744 2.582l-.019.01-.005.003h-.002a.739.739 0 0 1-.69.001l-.002-.001Z"})])}function ie(e,d){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z"})])}const P={__name:"ToolTip",props:{value:String,right:{default:"right-1/2"},left:{default:"left-1/2"}},setup(e){return(d,u)=>(r(),n("div",{class:o(["absolute top-full bg-black bg-opacity-50 text-white p-2 rounded-lg text-xs z-10 hidden whitespace-nowrap",`ltr:${e.left} rtl:${e.right}`])},s(e.value),3))}},oe={__name:"FavouriteButton",props:{user:null},setup(e){const d=e,u=$(d.user.is_favorite),f=$(!1),i=H({});function h(){f.value||(u.value?i.delete(route("favorites.destroy",{favorite:d.user.id}),{preserveState:!1,preserveScroll:!0,onStart:()=>{u.value=!1,f.value=!0},onFinish:()=>{f.value=!1}}):i.post(route("favorites.store",{favorite:d.user.id}),{preserveState:!1,preserveScroll:!0,onStart:()=>{u.value=!0,f.value=!0},onFinish:()=>{f.value=!1}}))}return(k,j)=>(r(),n(S,null,[u.value?p("",!0):(r(),n("a",{key:0,href:"javascript:;",onClick:h},[c(a(ee),{class:"w-5 h-5 text-primary"})])),u.value?(r(),n("a",{key:1,href:"javascript:;",onClick:h},[c(a(le),{class:"w-5 h-5 text-primary"})])):p("",!0)],64))}},ne={class:"p-2 bg-white rounded-lg ltr:rounded-bl-3xl rtl:rounded-br-3xl"},ce={class:"px-4 py-1"},de={class:"flex items-start justify-between"},ue={class:"relative"},fe={class:"flex justify-between"},he={class:"text-sm font-bold capitalize"},pe={class:"flex flex-col items-center gap-1"},me={class:"flex items-center space-x-2 text-sm"},ge={class:"flex items-center gap-1"},xe={key:0,class:"relative"},ye={class:"flex justify-center item-center [&+div]:hover:block rounded-full overflow-hidden w-fit p-1 mx-auto"},ve=["src"],we={class:"text-sm text-center font-semi-bold"},be={class:"text-sm text-center font-semi-bold"},$e={class:"text-sm text-center font-semi-bold"},ke={class:"text-xs text-center font-semi-bold"},Fe={class:"flex items-center gap-1"},_e=["href"],Ce={key:0,class:"flex gap-1 items-center text-sm scale-[0.85] ltr:origin-left rtl:origin-right"},Be={class:"flex items-center gap-4"},Me={key:0,class:"flex space-x-2 bg-transparent"},ze={class:"flex min-h-[300px] flex-col text-center justify-between p-6 pt-0"},Se={class:"flex justify-center"},je={class:"text-xl font-bold uppercase text-primary"},Le={class:"max-sm:text-sm"},qe={class:"relative"},De={key:1,class:"bg-black text-white text-[10px] font-bold rounded absolute ltr:right-0 rtl:left-0 -bottom-3 -my-4 p-1 whitespace-nowrap"},Ie={key:0,class:"text-xs scale-[0.85] ltr:origin-left rtl:origin-right"},Ne={key:1,class:"h-[16px]"},Pe={key:0,class:"h-[24px]"},Te={key:1,class:"flex justify-end"},Ge={__name:"MainPlayerCard",props:{player:{required:!0,type:Object},size:{required:!1,type:String,default:"sm"},showReport:{required:!1,type:Boolean,default:!0},showInvite:{required:!1,type:Boolean,default:!0},showLocation:{required:!1,type:Boolean,default:!0},showFavorite:{required:!1,type:Boolean,default:!0},showShare:{required:!1,type:Boolean,default:!0},showDistance:{required:!1,type:Boolean,default:!0}},setup(e){const d=e,u=$(!1),f=z().props.auth.user,i=d.player.state_name,h=i=="Free"?"white":"black";$(["#99A9BF",i=="Free"?"#FF9900":"rgb(0, 100, 0)",i=="Free"?"#FF9900":"rgb(0, 100, 0)"]);const k=$(!1),j=W(()=>{if(i=="Premium")return{sm:"/images/player_bg_sm_gold.png",lg:"/images/player_bg_lg_gold.png"}[d.size];if(i=="Free")return{sm:"/images/player_bg_sm.png",lg:"/images/player_bg_lg.png"}[d.size]}),y=d.player.id===(f==null?void 0:f.id),T=z().url.includes("public/player"),R=z().props.locale;function A(l,m,_,C){let v=parseFloat(l),x=parseFloat(m),L=parseFloat(_),Z=parseFloat(C);const U=6371,q=F(L-v),D=F(Z-x),I=Math.sin(q/2)*Math.sin(q/2)+Math.cos(F(v))*Math.cos(F(L))*Math.sin(D/2)*Math.sin(D/2),E=2*Math.atan2(Math.sqrt(I),Math.sqrt(1-I));return(U*E).toFixed(1)}function F(l){return l*(Math.PI/180)}const M=A(f.current_latitude,f.current_longitude,d.player.current_latitude,d.player.current_longitude);function V(){k.value=!0,setTimeout(()=>{k.value=!1},2e3)}return(l,m)=>{var _,C,v;return r(),n("div",{class:"rounded-xl",style:Y(`background-image: url('${j.value}'); background-size: cover; background-position: center;`)},[t("div",{class:o([{invisible:!(e.showFavorite&&!y)},"flex justify-end"])},[t("span",ne,[c(oe,{user:e.player},null,8,["user"])])],2),t("div",ce,[t("div",de,[t("div",{class:o(["flex items-center flex-1 gap-2 mb-2",{"space-x-2":e.size=="sm","space-x-8":e.size=="lg"}])},[t("div",ue,[y&&!a(T)?(r(),w(a(B),{key:0,href:l.route("profile.edit"),class:"absolute bottom-0 p-1 bg-white rounded-full hover:text-primary"},{default:g(()=>[c(a(ie),{class:"w-3 [&+div]:hover:block"}),c(P,{value:l.$t("edit-your-profile"),right:"right-0"},null,8,["value"])]),_:1},8,["href"])):p("",!0),c(J,{id:e.player.id,"image-url":e.player.avatar_url,size:"lg",username:e.player.name,border:!0,borderColor:a(i)=="Free"?"primary":"blackDark"},null,8,["id","image-url","username","borderColor"])]),t("div",{class:o([a(i)=="Free"?"text-white":"text-primary","flex-1"])},[t("div",fe,[c(a(B),{href:l.route("player.profile",e.player.id)},{default:g(()=>[t("h2",he,s(e.player.first_name)+" "+s(e.player.last_name),1)]),_:1},8,["href"]),t("div",pe,[t("p",{class:o([a(i)=="Free"?"text-white":"text-primary","text-sm font-bold"])},s(e.player.preferred_foot==="right"?"R":"L"),3)])]),c(a(B),{class:"text-xs opacity-50",href:l.route("player.profile",e.player.id)},{default:g(()=>[b("@"+s(e.player.username),1)]),_:1},8,["href"]),t("p",me,[t("span",{class:o(["scale-[0.7] ltr:origin-left rtl:origin-right flex items-center gap-x-1",a(h)=="black"?"text-primary":"text-[#FF9900]"])},[t("span",ge,[(r(),n(S,null,X(5,x=>(r(),n(S,null,[e.player.rating>=x?(r(),w(a(se),{key:0,class:o(["w-5 h-5",a(i)=="Free"?"text-gold":"text-primary"])},null,8,["class"])):(r(),w(a(re),{key:1,class:o(["w-5 h-5",a(i)=="Free"?"text-gold":"text-primary"])},null,8,["class"]))],64))),64))]),t("span",{class:o(["ml-2 font-bold text-md",a(i)=="Free"?"text-gold":"text-primary"])},s(e.player.rating),3)],2)])],2)],2)]),t("div",{class:o(["grid gap-1 border-b sm:gap-4",[{"grid-cols-4 pb-2 ":e.size=="sm","grid-cols-5 pb-4 mt-4":e.size=="lg"},`border-${a(h)}`,`text-${a(h)}`]])},[e.size=="lg"?(r(),n("div",xe,[t("p",{class:o(["text-xs text-center whitespace-nowrap",a(i)=="Free"?"text-white text-light opacity-50":"text-primary"])},s(l.$t("favorite-club")),3),t("div",ye,[t("img",{src:(_=e.player.club)==null?void 0:_.logo_thumb,class:"w-5 h-5"},null,8,ve)]),c(P,{value:(C=e.player.club)==null?void 0:C.name,top:"top-0"},null,8,["value"])])):p("",!0),t("div",null,[t("p",{class:o(["text-xs text-center",a(i)=="Free"?"text-white text-light opacity-50":"text-primary"])},s(l.$t("age")),3),t("p",we,s(e.player.age),1)]),t("div",null,[t("p",{class:o(["text-xs text-center",a(i)=="Free"?"text-white text-light opacity-50":"text-primary"])},s(l.$t("played")),3),t("p",be,s(e.player.played),1)]),t("div",null,[t("p",{class:o(["text-xs text-center",a(i)=="Free"?"text-white text-light opacity-50":"text-primary"])},s(l.$t("missed")),3),t("p",$e,s(e.player.missed),1)]),t("div",null,[t("p",{class:o(["text-xs text-center",a(i)=="Free"?"text-white text-light opacity-50":"text-primary"])},s(l.$t("position")),3),t("p",ke,s(e.player.position.name[a(R)]),1)])],2),t("div",{class:o(["flex items-center justify-between gap-1 my-2 sm:text-xs",`text-${a(h)}`])},[t("div",Fe,[t("a",{href:`https://www.google.com/maps/dir/Current+Location/${e.player.current_latitude},${e.player.current_longitude}`,target:"_blank",class:"w-full overflow-hidden rounded-lg"},[e.showLocation?(r(),n("p",Ce,[c(a(te),{class:"inline w-4"}),b(" "+s(e.player.current_city),1)])):p("",!0)],8,_e)]),t("div",Be,[e.showInvite&&e.player.id!==l.$page.props.auth.user.id?(r(),n("div",Me,[a(M)<((v=l.$page.props)==null?void 0:v.distanceInvitationLimit)?(r(),w(a(B),{key:0,href:l.route("invitation.create",e.player.id),class:"text-sm scale-[0.85] ltr:origin-left rtl:origin-right"},{default:g(()=>[b(s(l.$t("send-invitation"))+" ",1),c(a(N),{class:o(["inline w-4 h-4 rtl:rotate-180 ltr:rotate-0",`text-${a(h)}`])},null,8,["class"])]),_:1},8,["href"])):(r(),n("button",{key:1,onClick:m[0]||(m[0]=x=>u.value=!0),class:"text-sm scale-[0.85] ltr:origin-left rtl:origin-right"},[b(s(l.$t("send-invitation"))+" ",1),c(a(N),{class:o(["inline w-4 h-4 rtl:rotate-180 ltr:rotate-0",`text-${a(h)}`])},null,8,["class"])])),c(ae,{show:u.value,closeable:!0,"show-close-icon":!0,"max-width":"md",onClose:m[2]||(m[2]=x=>u.value=!1)},{default:g(()=>[t("div",ze,[t("div",Se,[t("h2",je,s(l.$t("invitation can not be sent")),1)]),t("div",Le,s(l.$t("This player is far away from your destination")),1),c(K,{onClick:m[1]||(m[1]=x=>u.value=!1)},{default:g(()=>[b(s(l.$t("ok")),1)]),_:1})])]),_:1},8,["show"])])):p("",!0),t("div",qe,[e.showShare?(r(),w(G,{key:0,shareUrl:`public/player/${e.player.username}`,position:"bottom-0",onShowCopied:V},null,8,["shareUrl"])):p("",!0),k.value?(r(),n("span",De,s(l.$t("copied"))+"!",1)):p("",!0)])])],2),t("div",{class:o(["pis-4 sm:text-xs",`text-${a(h)}`])},[!y&&e.showDistance&&a(M)!==NaN?(r(),n("div",Ie,[t("span",null,s(a(M)),1),t("span",null,s(l.$t("Km")),1)])):(r(),n("div",Ne))],2),e.showReport&&y?(r(),n("div",Pe)):p("",!0),e.showReport&&!y?(r(),n("div",Te,[c(Q,{"reportable-id":e.player.id,"reportable-type":"App\\Models\\User"},{trigger:g(()=>[t("button",null,[c(a(O),{class:"w-4 h-4 text-red-500"})])]),_:1},8,["reportable-id"])])):p("",!0)])],4)}}};export{Ge as _};
