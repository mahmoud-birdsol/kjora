import{r as k,T as $,j as S,d as a,b as t,u as s,w as n,F as _,o as l,Z as V,a as r,t as u,g as C,s as I,f as h,I as B,n as N,e as j}from"./app.8ff0f107.js";import{_ as F}from"./GuestLayout.de9ee2f8.js";import{_ as L}from"./PrimaryButton.11a51cad.js";import{_ as M}from"./InputError.f29c6013.js";import{G as P}from"./GuestTwoColumnLayout.f9249971.js";import{C as T}from"./Card.79095136.js";import{_ as A}from"./CardContent.953c4953.js";import"./GuestNavbar.9e8bb035.js";import"./ResponsiveNavLink.118cd62e.js";import"./SecondaryButton.5221202e.js";import"./DateTranslation.68228c64.js";import"./dayjs.min.61a7718e.js";import"./XMarkIcon.4621726c.js";import"./index.f405b57e.js";const G={class:"py-10 text-sm text-center text-gray-500"},K={class:"flex flex-col gap-4 px-6"},q={class:"flex justify-center gap-6",dir:"ltr"},z=["onInput","onKeydown"],D={class:"flex justify-center gap-2 max-md:flex-col"},E={class:"flex items-center justify-between mt-4"},R={key:0,class:"mt-4 text-sm font-medium text-green-600"},re={__name:"VerifyPhone",props:{user:null},setup(g){const p=g,y=Array(4),c=k(null),o=$({code:"",user_id:p.user.id}),v=()=>{console.log(o.code),o.post(route("phone.verify.store"),{onFinish:()=>{o.reset()}})};function b(e,i){i.key.toString()==="Backspace"&&(i.target.value="",e>0&&c.value[e-1].focus())}function x(e,i){let f=i.target.value.trim();o.code+=f,e<y.length-1&&f!==""&&c.value[e+1].focus()}const w=S(()=>p.status==="verification-link-sent");return(e,i)=>(l(),a(_,null,[t(s(V),{title:e.$t("Phone Verification")},null,8,["title"]),t(F,null,{default:n(()=>[t(P,null,{default:n(()=>[t(T,null,{default:n(()=>[t(A,{title:e.$t("Verify Phone Number")},{body:n(()=>[r("div",G,u(e.$t("Before continuing, could you verify your phone number by entering the 4 digit code sent to you in an SMS ? If you didn't receive the SMS, we will gladly send you another")),1),r("div",K,[r("div",q,[(l(!0),a(_,null,C(s(y),(f,d)=>(l(),a("input",{key:d,onInput:m=>x(d,m),onKeydown:m=>b(d,m),maxlength:"1",type:"text",ref_for:!0,ref_key:"codeInputs",ref:c,class:"p-4 text-lg font-bold text-center text-white bg-black rounded-md focus:border-primary focus:ring-0 w-14 max-sm:w-12 aspect-square"},null,40,z))),128))]),t(M,{message:s(o).errors.code},null,8,["message"]),r("div",D,[t(s(I),{href:e.route("verification.phone.send"),class:"text-sm text-gray-600 underline hover:text-gray-900"},{default:n(()=>[h(u(e.$t("Resend Code")),1)]),_:1},8,["href"])]),r("form",{onSubmit:B(v,["prevent"])},[r("div",E,[t(L,{class:N({"opacity-25":s(o).processing}),disabled:s(o).processing},{default:n(()=>[h(u(e.$t("Verify")),1)]),_:1},8,["class","disabled"])])],32),w.value?(l(),a("div",R,u(e.$t("A new verification code has been sent to the phone number you provided in your profile settings"))+". ",1)):j("",!0)])]),_:1},8,["title"])]),_:1})]),_:1})]),_:1})],64))}};export{re as default};
