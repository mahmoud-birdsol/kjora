import{o as i,d as u,a as l,r as c,h as N,e as p,b as f,u as b,w as k,q as C,a5 as V,F as U,g as S,n as x,t as $,p as B}from"./app.8ff0f107.js";import{r as D}from"./CheckIcon.7c9aeea7.js";function z(e,g){return i(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z","clip-rule":"evenodd"})])}const I={class:"relative mt-1"},M={type:"button",class:"relative w-full cursor-pointer rounded-full border border-gray-300 bg-white py-2 pl-3 pr-10 text-left shadow-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary sm:text-sm","aria-haspopup":"listbox","aria-expanded":"true","aria-labelledby":"listbox-label"},q={key:0,class:"flex items-center cursor-pointer"},E=["src"],F=["value"],L={key:0,class:"absolute z-30 mt-1 max-h-56 w-full overflow-auto rounded-lg bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",tabindex:"-1",role:"listbox","aria-labelledby":"listbox-label","aria-activedescendant":"listbox-option-3"},T={class:"flex p-4"},_=["onClick"],A={class:"flex items-center"},O=["src"],G={__name:"PhoneInput",props:{modelValue:String,valueName:String,textName:String,imageName:String,options:{required:!0,type:Array}},emits:["update:modelValue"],setup(e,{emit:g}){const o=e,d=c([]);N(()=>{o.modelValue?a.value=o.options.filter(s=>s[o.valueName]==o.modelValue)[0]:(a.value=o.options.filter(s=>s[o.valueName]==121)[0],m("update:modelValue","+"+a.value.calling_code)),d.value=o.options});const n=c(!1),a=c(null),m=g;c("");const h=s=>{a.value=s,n.value=!1,m("update:modelValue","+"+a.value.calling_code)},v=c(""),y=()=>{d.value=o.options.filter(s=>s.name.toUpperCase().includes(v.value.toUpperCase()))},w=s=>{m("update:modelValue",s.target.value),o.options.forEach(t=>{s.target.value.substring(0,3).toUpperCase().includes("+"+t.calling_code.toUpperCase())&&(a.value=t),s.target.value.substring(0,4).toUpperCase().includes("00"+t.calling_code.toUpperCase())&&(a.value=t)})};return(s,t)=>(i(),u("div",null,[n.value?(i(),u("div",{key:0,class:"fixed top-0 left-0 w-full h-full z-20",onClick:t[0]||(t[0]=r=>n.value=!1)})):p("",!0),l("div",I,[l("button",M,[a.value?(i(),u("span",q,[l("img",{src:a.value[e.imageName],alt:"",class:"h-6 w-6 flex-shrink-0 rounded cursor-pointer",onClick:t[1]||(t[1]=r=>n.value=!n.value)},null,8,E),l("input",{type:"text",value:e.modelValue,onInput:w,class:"block w-full px-4 py-0 my-0 border-none text-sm disabled:bg-gray-100 focus:ring-none focus:border-none ring-transparent"},null,40,F)])):p("",!0),l("span",{class:"cursor-pointer absolute inset-y-0 ltr:right-0 rtl:left-0 mie-3 flex items-center pr-2",onClick:t[2]||(t[2]=r=>n.value=!n.value)},[f(b(z),{class:"h-5 w-5 text-gray-400"})])]),f(B,{"enter-active-class":"transition ease-in duration-100","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:k(()=>[n.value?(i(),u("ul",L,[l("li",null,[l("div",T,[C(l("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=r=>v.value=r),class:"block w-full rounded border-gray-300 px-4 shadow-sm focus:border-primary focus:ring-primary sm:text-sm disabled:bg-gray-100",onInput:y,placeholder:"Search"},null,544),[[V,v.value]])])]),(i(!0),u(U,null,S(d.value,r=>(i(),u("li",{onClick:P=>h(r),class:"text-gray-900 relative cursor-pointer select-none py-2 pl-3 pr-9 hover:bg-primary hover:text-white",id:"listbox-option-0",role:"option"},[l("div",A,[l("img",{src:r[e.imageName],alt:"",class:"h-6 w-6 flex-shrink-0 rounded"},null,8,O),l("span",{class:x(["font-normal mis-3 block truncate",{"font-semibold":r[e.valueName]==a.value[e.valueName],"font-normal":r[e.valueName]!=a.value[e.valueName]}])},$(r[e.textName]),3)]),l("span",{class:x(["absolute inset-y-0 right-0 flex items-center pr-4",{"text-primary":r[e.valueName]==a.value[e.valueName],"text-white":r[e.valueName]!=a.value[e.valueName]}])},[f(b(D),{class:"h-5 w-5"})],2)],8,_))),256))])):p("",!0)]),_:1})])]))}};export{G as _};
