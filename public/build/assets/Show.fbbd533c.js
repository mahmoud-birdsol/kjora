import{N as V,aV as G,aW as H,T as K,r as I,y as Q,aN as X,c as S,w as y,B as Y,o as s,a,b as o,u as r,l as U,d as m,q as Z,F as b,g as P,f as B,t as $,I as ee,j as z,n as te,J as oe,b0 as se,aP as E,b1 as L,W as ae,A as ne,e as re,b2 as F}from"./app.8ff0f107.js";import"./base.1b1bd1ad.js";import{v as ie}from"./loading.0484db5f.js";import{_ as le}from"./Modal.b3ff11aa.js";import{a as D,d as me,e as pe,_ as ce,c as ue,b as _e}from"./AppSearchInput.vue_vue_type_script_setup_true_lang.77cc1d10.js";import{_ as de}from"./SecondaryButton.5221202e.js";/* empty css                  */import{_ as fe}from"./Badge.vue_vue_type_script_setup_true_lang.9c5f8a50.js";import{u as ye,_ as ve}from"./useAxios.8d769abf.js";import{_ as ge}from"./Checkbox.829cad21.js";import{_ as he}from"./TextInput.42ee8067.js";import{E as be}from"./index.5c95d672.js";import{_ as $e}from"./AppLayout.ac3aab9c.js";import{_ as N}from"./Avatar.vue_vue_type_style_index_0_lang.13aa623b.js";import"./index.412eb292.js";import"./XMarkIcon.4621726c.js";import"./index.f405b57e.js";import"./floating-ui.vue.esm.b8000c53.js";import"./MagnifyingGlassIcon.14abb4a5.js";import"./plugin-vue_export-helper.c628866e.js";import"./error.7e8331f1.js";import"./ResponsiveNavLink.118cd62e.js";import"./DateTranslation.68228c64.js";import"./dayjs.min.61a7718e.js";import"./StarIcon.5dbdfceb.js";import"./MapPinIcon.afa94ea1.js";import"./InvitationPlayerCard.1c9614ad.js";import"./index.1938c188.js";import"./CheckIcon.7c9aeea7.js";/* empty css                                                  */const we={class:"p-6 space-y-6"},xe={class:"grid grid-cols-2 gap-4"},ke=V({__name:"TeamInvitationForm",props:G({team:{}},{open:{type:Boolean,default:!1},openModifiers:{}}),emits:["update:open"],setup(v){const i=v,g=H(v,"open"),p=()=>{g.value=!1},l=K(()=>{var n;return{team_id:(n=i==null?void 0:i.team)==null?void 0:n.id,players:[]}}),e=()=>{l.post(route("teams.invite"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{p()}})},{data:t,isLoading:c,execute:w}=ye(route("team.invitation.users",[i.team]),{method:"get"},Y,{immediate:!0}),_=I("");Q(_,X(()=>{w(route("api.users.index",{_query:{search:_.value}}))},500));const f=n=>{let d;l.players.find((x,u)=>x.id===n?(d=u,!0):!1)?l.players.splice(d,1):l.players.push({id:n})};return(n,d)=>{const k=he,x=ge,u=ve,O=fe,M=be,j=D,R=de,q=me,W=le,J=ie;return s(),S(W,{show:g.value,onClose:p},{default:y(()=>{var A;return[a("div",we,[o(k,{modelValue:r(_),"onUpdate:modelValue":d[0]||(d[0]=C=>U(_)?_.value=C:null),type:"search"},null,8,["modelValue"]),(A=r(t))!=null&&A.data.length?(s(),m("form",{key:0,onSubmit:ee(e,["prevent"]),class:"space-y-6"},[Z((s(),S(M,{height:"300px","view-class":"space-y-4"},{default:y(()=>{var C;return[(s(!0),m(b,null,P((C=r(t))==null?void 0:C.data,h=>(s(),m("div",{key:h.id,class:"flex items-center gap-3"},[o(x,{checked:r(l).players.find(T=>h.id===T),"onUpdate:checked":T=>f(h.id),value:String(h.id)},null,8,["checked","onUpdate:checked","value"]),o(u,{player:h},null,8,["player"]),d[1]||(d[1]=a("span",{class:"ms-auto"},null,-1)),o(O,null,{default:y(()=>[B($(h.position.name[n.$page.props.locale]),1)]),_:2},1024)]))),128))]}),_:1})),[[J,r(c)]]),a("div",xe,[o(j,{type:"submit",loading:r(l).processing},{default:y(()=>[B($(n.$t("invite")),1)]),_:1},8,["loading"]),o(R,{size:"sm",onClick:p,type:"button"},{default:y(()=>[B($(n.$t("Cancel")),1)]),_:1})])],32)):(s(),S(q,{key:1}))])]}),_:1},8,["show"])}}}),Ce={class:"relative mx-auto bg-primary w-fit"},Se=V({__name:"TeamOrganization",props:{players:{}},setup(v){const i=v,g=pe("",{variants:{position:{goalkeeper:"top-0 start-1/2 -translate-x-1/2 rtl:translate-x-1/2",forward:"top-3/4",defender:"top-1/4",midfielder:"top-1/2 -translate-y-1/2"}}}),p=e=>e.name.en.toLowerCase(),l=z(()=>i.players.reduce((e,t)=>{const c=p(t.position);return c&&(c in e?e[c].push(t):e[c]=[t]),e},{}));return(e,t)=>{const c=N;return s(),m("div",Ce,[t[0]||(t[0]=a("img",{alt:"team places",src:"/images/playground.svg",class:""},null,-1)),a("div",null,[(s(!0),m(b,null,P(r(l),(w,_)=>(s(),m("div",{class:te(["absolute flex items-center justify-around w-full",r(g)({position:_})])},[(s(!0),m(b,null,P(w,(f,n)=>(s(),m("div",{style:oe({"--player-index":n+1})},[o(c,{id:f.id,username:f.username,imageUrl:f.avatar_url,border:""},null,8,["id","username","imageUrl"])],4))),256))],2))),256))])])}}}),Be={class:"grid lg:grid-cols-[1fr_minmax(15rem,20rem)] gap-6 items-start"},Pe={class:"space-y-6"},Ve={class:"flex items-center gap-3"},Ae={class:"space-y-1 text-white"},Te={class:"text-3xl font-bold capitalize"},Ee={class:"text-lg font-medium"},Le={class:"flex flex-wrap items-center gap-3"},Fe={class:"space-y-6"},ct=V({__name:"Show",props:{team:{},players:{},matches:{}},setup(v){const i=v,g=se(),p=I(!1),l=z(()=>[{label:E("team-players"),href:route("teams.show",[i.team]),component:L({loader:()=>F(()=>import("./TeamPlayersTable.4a560119.js"),["assets/TeamPlayersTable.4a560119.js","assets/index.f405b57e.js","assets/app.8ff0f107.js","assets/app.cd5627bf.css","assets/useAxios.8d769abf.js","assets/AppSearchInput.vue_vue_type_script_setup_true_lang.77cc1d10.js","assets/floating-ui.vue.esm.b8000c53.js","assets/MagnifyingGlassIcon.14abb4a5.js","assets/Avatar.vue_vue_type_style_index_0_lang.13aa623b.js","assets/Avatar.ee539353.css","assets/DropdownMenuTrigger.vue_vue_type_script_setup_true_lang.ad2089d7.js"])}),props:{players:i.players},active:!route().params.tab},{label:E("matches"),href:route("teams.show",[i.team,{tab:"matches"}]),component:L({loader:()=>F(()=>import("./TeamMatchesList.d0c764c7.js"),["assets/TeamMatchesList.d0c764c7.js","assets/AppSearchInput.vue_vue_type_script_setup_true_lang.77cc1d10.js","assets/index.f405b57e.js","assets/app.8ff0f107.js","assets/app.cd5627bf.css","assets/floating-ui.vue.esm.b8000c53.js","assets/MagnifyingGlassIcon.14abb4a5.js","assets/MatchCard.vue_vue_type_script_setup_true_lang.d959b98d.js","assets/index.1938c188.js","assets/Avatar.vue_vue_type_style_index_0_lang.13aa623b.js","assets/Avatar.ee539353.css"])}),props:{matches:i.matches},active:route().params.tab==="matches"}]);return(e,t)=>{const c=N,w=ce,_=ue,f=_e,n=D,d=Se,k=$e,x=ke;return s(),m(b,null,[o(k,{title:e.team.name},{default:y(()=>[a("div",Be,[a("div",Pe,[a("div",Ve,[o(c,{size:"xlg","image-url":e.team.team_logo_url},null,8,["image-url"]),a("div",Ae,[o(w),a("h2",Te,$(e.team.name),1),a("span",Ee,$(e.$tChoice("count-player-or-count-players",e.players.length)),1)])]),a("div",Le,[o(_,{tabs:r(l)},null,8,["tabs"]),t[2]||(t[2]=a("span",{class:"ms-auto grow"},null,-1)),o(f),o(n,{onClick:t[0]||(t[0]=u=>p.value=!0)},{default:y(()=>[B($(e.$t("invite-players")),1)]),_:1})]),(s(!0),m(b,null,P(r(l),u=>(s(),m(b,null,[u.href===r(g).href?(s(),S(ne(u.component),ae({key:0,ref_for:!0},u.props),null,16)):re("",!0)],64))),256))]),a("div",Fe,[o(d,{players:e.players},null,8,["players"])])])]),_:1},8,["title"]),o(x,{team:e.team,open:r(p),"onUpdate:open":t[1]||(t[1]=u=>U(p)?p.value=u:null)},null,8,["team","open"])],64)}}});export{ct as default};
