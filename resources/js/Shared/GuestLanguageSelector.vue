<template>
    <div class="ml-4 rtl:mr-4 text-white">
        <button @click="setLocale">
            <span class="font-semibold" v-if="selectable_locale == 'ar'">العربية</span>
            <span class="font-semibold" v-if="selectable_locale == 'en'">EN</span>
        </button>
    </div>
</template>

<script>
import Icon from './Icon.vue'
import { Link } from '@inertiajs/inertia-vue3';
import {Inertia} from "@inertiajs/inertia";

export default {
    components: {
        Icon,
        Link
    },
    methods:{
        setLocale() {
            Inertia.post(route('language', [this.selectable_locale]) , {}, {
                preserveState:false,
                preserveScroll:false,
                onSuccess : () => {
                    window.location.reload()
                }
            })
        },
    },

    mounted() {
    },
    computed: {
        selectable_locale() {
            if(this.$page.props.locale == 'ar') {
                return 'en';
            }
            return 'ar';
        }
    },
}
</script>
